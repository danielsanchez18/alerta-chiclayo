<div class="px-5 py-10 min-h-full flex flex-col gap-y-10">

  <!-- Filters -->
  <div class="flex items-center gap-x-2">
    <button type="button"
      (click)="setFilter('all')"
      [class]="selectedFilter() === 'all' ? 'bg-primary text-black' : 'bg-white/20 text-white'"
      class="uppercase px-4 py-2 rounded-full font-bold text-sm tracking-wider hover:bg-primary/80 transition">
      todas
    </button>

    <button type="button"
      (click)="setFilter('community')"
      [class]="selectedFilter() === 'community' ? 'bg-primary text-black' : 'bg-white/20 text-white'"
      class="uppercase px-4 py-2 rounded-full font-semibold text-sm tracking-wider hover:bg-white/10 transition">
      comunidad
    </button>

    <button type="button"
      (click)="setFilter('alerts')"
      [class]="selectedFilter() === 'alerts' ? 'bg-primary text-black' : 'bg-white/20 text-white'"
      class="uppercase px-4 py-2 rounded-full font-semibold text-sm tracking-wider hover:bg-white/10 transition">
      alertas
    </button>
  </div>

  <!-- Notifications -->
  <div class="grid gap-y-1">
    @for (notification of filteredNotifications(); track notification.id) {
      <button type="button" class="flex gap-x-4 py-2 hover:bg-white/10 text-start">
        <div class="min-w-10 flex items-center justify-center h-10 rounded-full bg-white/10">
          @switch (notification.type) {
            @case ('alert') {
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-5 text-yellow-400">
                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"/>
                <path d="M12 9v4"/>
                <path d="M12 17h.01"/>
              </svg>
            }
            @case ('community') {
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-5 text-blue-400">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
            }
            @case ('reminder') {
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-5 text-green-400">
                <path d="M12 6v6l4 2"/>
                <circle cx="12" cy="12" r="10"/>
              </svg>
            }
            @case ('report') {
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-5 text-red-400">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <path d="M14 2v6h6"/>
                <path d="M16 13H8"/>
                <path d="M16 17H8"/>
                <path d="M10 9H8"/>
              </svg>
            }
            @case ('announcement') {
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-5 text-purple-400">
                <path d="M10.5 5H19a2 2 0 0 1 2 2v8.5"/>
                <path d="M17 11h-.5"/>
                <path d="M19 19H9a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2Z"/>
                <path d="m2 2 20 20"/>
                <path d="M7 7v10"/>
              </svg>
            }
          }
        </div>
        <div class="flex-1">
          <p class="text-sm font-semibold mb-1" [class.text-primary]="!notification.read">
            {{ notification.title }}
          </p>
          <p class="text-sm text-white/60">
            {{ notification.message }}
          </p>
          <span class="text-xs text-white/50 mt-1 block">{{ getTimeAgo(notification.createdAt) }}</span>
        </div>
        @if (!notification.read) {
          <div class="flex items-center">
            <div class="size-2 rounded-full bg-primary"></div>
          </div>
        }
      </button>
    } @empty {
      <div class="text-center py-10 text-white/60">
        <p>No hay notificaciones en esta categor√≠a</p>
      </div>
    }
  </div>
</div>
